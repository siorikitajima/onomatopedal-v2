<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/mobileplayer.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/views.css">
    <link rel="icon"  type="image/png"  href="images/OP_AppIcon.png" />
    <link rel="apple-touch-icon" sizes="128x128" href="images/OP_AppIcon_128.png" />
    <link rel="icon" sizes="192x192" href="images/OP_AppIcon_192.png" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js"></script>
    <script src="js/ejs.js"></script>

    <title>OnomatoPedal Studio | Preview </title>
</head>
<body>

  <%- include('./partials/mobilePlayer.ejs')  %> 

  <script>
    var aniName = <%- JSON.stringify(pedal.animation) %> ;
    var colName = <%- JSON.stringify(pedal.color) %> ;
    var allAnima = <%- JSON.stringify(animation) %> ;
    var colorValue;
    for ( var a = 0; a < allAnima.length; a++ ) {
      if ( allAnima[a].slug == aniName) {
        for (var c = 0; c < allAnima[a].colors.length; c++ ) {
          if (allAnima[a].colors[c].colkey == colName ) {
            colorValue = allAnima[a].colors[c].value;
            break;
          }
        }
      }
    }
</script>

<%- include( `./animations/${ pedal.animation }.ejs`)  %> 

</body>
</html>